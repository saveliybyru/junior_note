# Gulp-памятка

_________________________

### Небольшая Пометка

Чтобы использовать нужно знать несколько вещей:

1. Для использования Gulp нужно иметь установленный node.js.
1. Также нужно иметь установленный npm.
2. Для начала работы нужно создать конфигурационные файлы в корне проекта. Их всего 2:
  
    2.1"package.json" - файл с указанием всех пакетов, которые вы устанавливаете, в нём же указываются и расшифровываются для самого Gulp все скрипты (команды), которые вы будете вводить в консоли.

    2.2 "gulpfile.js" - файл в котором составляются последовательности действий для Gulp, можно назвать это программой, которую будет выполнять Gulp при вводе определённых команд.

____

## 1. Подключение пакетов

___
"Пакет" - это отдельная программа, которая работает, когда её запускает Gulp
___

Подключая пакет, не забудь указать его в списке пакетов, которые нужно скачать и установить.

  1.1 Указываем в package.json в разделе зависимостей "devDependencies" название пакета и его версию:

    "package": "version"

  1.2 Указываем пакет в gulpfile.js в самом начале файла (так просто удобнее отслеживать):

    const name-package = require("package")

___

## 2. Создание скрипта

___

Всё, что описано в данном разделе, происходит в gulpfile.js
___

  2.1 Объявляем название скрипта

    const name-script = () => {
      ...
    }
  2.2 наполняем его функциями, которые нужно выполнять:

    2.2.1 Передаём функции файл "file.ext", который лежит в "folder/":

      return name-package.src("folder/file.ext") 

    2.2.2 Указываем пакет, который будет работать с данным файлом:

      .pipe(name-package2())

    2.2.3 Если будем в дальнейшем использовать скрипт в других скриптах или использовать, как готовый скрипт в Gulp, то указываем:

      exports.name-script = name-script;

___

## 3. Итоговые скрипты

___
Продолжаем писать в gulpfile.js

Обычно итоговых скриптов 3: build(сборка для продакшена), start (сборка для разработки) и watcher (скрипт для отслеживания изменений в файлах при разработке)
___

  3.1 Делаем watcher:

    const watcher = () => {
    gulp.watch("folder/file.ext", gulp.series(name-script));
    }
  3.2 Делаем build:

        series - тут передаём те скрипты, которые нужно выполнять последовательно, т.е. они выполняются по порядку.
        parallel - тут передаём те скрипты, которые можно выполнить параллельно. Также не забудь его включить в series последним.

      const build = gulp.series(
        name-script1
        name-script2
      gulp.parallel(
        name-script3
        name-script4
        ),
      );
  3.3 Делаем start:

        Тут обратите внимание на то, что можно внутрь всё скопировать из build, но опустив некоторые оптимизации (например, изображений) и заменив их на простое копирование. Также в конце нужно добавить watcher, который мы делали ранее, чтобы при запущенном сервере, редакция сразу же применялась к итоговой странице и она автоматически перезагружалась при сохранении.

      exports.default = gulp.series(
        name-script1
        name-script2
        gulp.parallel(
          name-script3
          name-script4
          ),
        gulp.series(
          name-script5
          watcher
        ));


___

## 4. Пишем скрипты Gulp

___

Всё, что описано в данном разделе, происходит в package.json
___
После указания зависимостей, указываем следующую конструкцию:

    Обратите внимание, что менять можно только название команды "command" и сам скрипт "script".
    Также тут можно указывать те скрипты, которые мы делали в gulpfile.js указав в самом скрипте "gulp name-script" вместо "script". 
    name-script из пункта 2.2.3, который после равно, т.е ваше название. 

    "scripts": {
      "command1": "script",
      "command2": "gulp name-script",
      "build": "gulp build",
      "start": "gulp"
    },
